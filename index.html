<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shahab Fotouhian - Portfolio</title>
    <!-- Use the Inter font for a modern look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Base styling for body and transitions */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.5s, color 0.5s;
            /* Reverting back to CSS smooth scrolling */
            scroll-behavior: smooth;
        }

        /* Reverting back to custom scroll-snap for a smooth scrolling effect between sections */
        .scroll-snap-y {
            scroll-snap-type: y mandatory;
        }
        .snap-start {
            scroll-snap-align: start;
        }

        /* Custom styling for cards */
        .card {
            background: linear-gradient(145deg, var(--card-bg-start), var(--card-bg-end));
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        /* Animation classes for scroll-based effects */
        .animate-on-scroll {
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            transition-delay: 0.1s; /* Subtle delay for staggered effect */
            opacity: 0;
            transform: translateY(20px);
        }
        .animate-on-scroll.in-view {
            opacity: 1;
            transform: translateY(0);
        }

        /* Light mode variables */
        .light {
            --bg-color: #f7f7f7;
            --text-color: #333333;
            --secondary-text-color: #555555;
            --card-bg-start: #ffffff;
            --card-bg-end: #f0f0f0;
            --accent-color: #00a896;
            --button-bg: #00a896;
            --button-text: #ffffff;
            --nav-bg: rgba(255, 255, 255, 0.3);
            --nav-text: #333333;
        }

        /* Dark mode variables */
        .dark {
            --bg-color: #1a1a1a;
            --text-color: #f0f0f0;
            --secondary-text-color: #a0a0a0;
            --card-bg-start: #2a2a2a;
            --card-bg-end: #1f1f1f;
            --accent-color: #00a896;
            --button-bg: #00a896;
            --button-text: #1a1a1a;
            --nav-bg: rgba(0, 0, 0, 0.3);
            --nav-text: #f0f0f0;
        }

        /* Apply variables */
        body.light {
            background-color: var(--bg-color);
            color: var(--text-color);
        }
        body.dark {
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        /* Nav link underline effect */
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%) scaleX(0);
            width: 100%;
            height: 2px;
            background-color: var(--accent-color);
            transition: transform 0.3s ease;
        }

        .nav-link.active::after {
            transform: translateX(-50%) scaleX(1);
        }

        .nav-link:hover::after {
            transform: translateX(-50%) scaleX(1);
        }

        /* Hero video placeholder overlay */
        .hero-overlay {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
        }

        /* Utility classes */
        .text-accent {
            color: var(--accent-color);
        }
        .bg-accent {
            background-color: var(--accent-color);
        }
    </style>
</head>
<body class="bg-[#1a1a1a] text-[#f0f0f0] transition-all duration-500 dark">
    <!-- Video Modal - Initially hidden to display videos -->
    <!-- The classes 'fixed inset-0 flex items-center justify-center' ensure the modal is always centered on the screen -->
    <div id="video-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
        <!-- Backdrop to close the modal -->
        <div class="absolute inset-0 bg-black bg-opacity-80 backdrop-blur-md" onclick="closeModal()"></div>
        <div class="relative z-[101] w-full max-w-4xl rounded-2xl overflow-hidden shadow-2xl scale-95 opacity-0 transition-all duration-300 transform">
            <!-- Close button for the modal -->
            <button onclick="closeModal()" class="absolute top-4 right-4 z-[102] text-white text-3xl font-bold bg-black/50 rounded-full w-10 h-10 flex items-center justify-center" aria-label="Close video player">&times;</button>
            <div class="relative" style="padding-top: 56.25%;">
                <!-- YouTube player iframe -->
                <iframe id="youtube-player" class="absolute top-0 left-0 w-full h-full" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- Info Modal - New modal for expertise cards -->
    <div id="info-modal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4">
        <!-- Backdrop to close the modal -->
        <div class="absolute inset-0 bg-black bg-opacity-80 backdrop-blur-md" onclick="closeInfoModal()"></div>
        <div class="relative z-[101] w-full max-w-2xl p-8 rounded-2xl shadow-2xl scale-95 opacity-0 transition-all duration-300 transform" style="background-color: var(--card-bg-start)">
            <!-- Close button -->
            <button onclick="closeInfoModal()" class="absolute top-4 right-4 z-[102] text-[var(--nav-text)] text-3xl font-bold bg-[var(--nav-bg)] rounded-full w-10 h-10 flex items-center justify-center" aria-label="Close information pop-up">&times;</button>
            <h3 id="modal-title" class="text-3xl font-bold mb-4"></h3>
            <p id="modal-description" class="text-lg leading-relaxed text-[var(--secondary-text-color)]"></p>
        </div>
    </div>
    
    <!-- Legal Notice Modal -->
    <div id="legal-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black bg-opacity-80 backdrop-blur-md" onclick="closeLegalModal()"></div>
        <div class="relative z-[101] w-full max-w-xl p-8 rounded-2xl shadow-2xl scale-95 opacity-0 transition-all duration-300 transform" style="background-color: var(--card-bg-start)">
            <button onclick="closeLegalModal()" class="absolute top-4 right-4 z-[102] text-[var(--nav-text)] text-3xl font-bold bg-[var(--nav-bg)] rounded-full w-10 h-10 flex items-center justify-center" aria-label="Close legal notice">&times;</button>
            <h3 class="text-3xl font-bold mb-4" id="legal-title"></h3>
            <div id="legal-content" class="text-base leading-relaxed text-[var(--secondary-text-color)]"></div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacy-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black bg-opacity-80 backdrop-blur-md" onclick="closePrivacyModal()"></div>
        <!-- Modal content with increased width -->
        <div class="relative z-[101] w-full max-w-4xl lg:max-w-5xl p-8 rounded-2xl shadow-2xl scale-95 opacity-0 transition-all duration-300 transform" style="background-color: var(--card-bg-start)">
            <button onclick="closePrivacyModal()" class="absolute top-4 right-4 z-[102] text-[var(--nav-text)] text-3xl font-bold bg-[var(--nav-bg)] rounded-full w-10 h-10 flex items-center justify-center" aria-label="Close privacy policy">&times;</button>
            <h3 class="text-3xl font-bold mb-4" id="privacy-title"></h3>
            <div id="privacy-content" class="text-base leading-relaxed text-[var(--secondary-text-color)]"></div>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="fixed top-0 z-50 w-full p-4 md:p-6 bg-transparent">
        <div class="container mx-auto flex items-center justify-between">
            <!-- Reverting back to a direct anchor link -->
            <a href="#home" class="text-3xl font-extrabold rounded-lg p-2 bg-[var(--nav-bg)] backdrop-blur-md transition-colors duration-500" style="color: var(--nav-text)">SF.</a>
            <div class="flex items-center space-x-4">
                <!-- Desktop navigation links -->
                <div class="hidden md:flex items-center space-x-6 rounded-full px-6 py-2 bg-[var(--nav-bg)] backdrop-blur-md transition-colors duration-500">
                    <a href="#home" class="nav-link relative font-medium transition-colors duration-500" style="color: var(--nav-text)" data-key="navHome">Home</a>
                    <a href="#about" class="nav-link relative font-medium transition-colors duration-500" style="color: var(--nav-text)" data-key="navAbout">About</a>
                    <a href="#skills" class="nav-link relative font-medium transition-colors duration-500" style="color: var(--nav-text)" data-key="navSkills">Skills</a>
                    <a href="#expertise" class="nav-link relative font-medium transition-colors duration-500" style="color: var(--nav-text)" data-key="navExpertise">Expertise</a>
                    <a href="#projects" class="nav-link relative font-medium transition-colors duration-500" style="color: var(--nav-text)" data-key="navProjects">Projects</a>
                    <a href="#contact" class="nav-link relative font-medium transition-colors duration-500" style="color: var(--nav-text)" data-key="navContact">Contact</a>
                </div>
                <!-- Language and Theme toggles -->
                <button id="lang-toggle" class="bg-[var(--nav-bg)] backdrop-blur-md text-sm md:text-base px-3 py-1 md:px-4 md:py-2 rounded-full font-semibold transition-colors duration-500" style="color: var(--nav-text)">EN</button>
                <button id="theme-toggle" class="text-xl md:text-2xl bg-[var(--nav-bg)] backdrop-blur-md p-2 rounded-full transition-colors duration-500" style="color: var(--nav-text)">
                    <!-- Sun icon for light mode (default) -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Sections -->
    <main class="scroll-snap-y">
        <!-- Home Section: Hero banner with a video background and a welcome message -->
        <section id="home" class="min-h-screen relative flex items-center justify-center text-center overflow-hidden p-4 snap-start">
            <div class="absolute inset-0 z-0">
                <!-- Placeholder image for the hero section, changed dynamically with theme -->
                <div id="hero-bg" class="w-full h-full bg-cover bg-center" style="background-image: url(https://placehold.co/1920x1080/1a1a1a/00a896?text=Hero+Video+Placeholder)"></div>
            </div>
            <div class="relative z-10 p-6 md:p-12 bg-black bg-opacity-40 backdrop-blur-sm rounded-3xl max-w-2xl transform transition-all duration-500">
                <h1 class="text-5xl md:text-7xl font-extrabold leading-tight text-white" data-key="homeTitle">Hello, I'm Shahab.</h1>
                <p class="mt-4 text-xl md:text-2xl font-light text-gray-200" data-key="homeSubtitle">A Motion Graphics Designer & Digital Video Producer based in Berlin.</p>
                <a href="#contact" class="mt-8 inline-block text-lg md:text-xl font-semibold px-8 py-4 rounded-full transition-all duration-300 transform bg-accent text-button-text hover:scale-105" style="background-color: var(--button-bg); color: var(--button-text);" data-key="getInTouch">Get in Touch</a>
            </div>
            <!-- Scroll hint icon -->
            <div class="absolute bottom-8 text-center text-sm md:text-base font-light opacity-75 animate-bounce">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto mb-2 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
                <span class="scroll-hint" data-key="scrollHint">Scroll down for more</span>
            </div>
        </section>

        <!-- About Section: A brief introduction -->
        <section id="about" class="min-h-screen flex items-center justify-center py-16 md:py-24 snap-start">
            <div class="container mx-auto px-4 md:px-6">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-8" data-key="aboutTitle">About Me</h2>
                <div class="max-w-3xl mx-auto text-lg md:text-xl leading-relaxed text-center">
                    <p data-key="aboutText">I specialize in creating compelling visual stories through animation and video. With extensive experience in motion graphics and a strong foundation in video production, I bring concepts to life with creativity and technical precision.</p>
                </div>
            </div>
        </section>

        <!-- Skills Section: Lists key skills, updated based on the image -->
        <section id="skills" class="min-h-screen flex items-center justify-center py-16 md:py-24 snap-start">
            <div class="container mx-auto px-4 md:px-6">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-12" data-key="skillsTitle">Skills</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12">
                    <!-- Visual Design & Concepting -->
                    <div class="card p-8 rounded-3xl animate-on-scroll">
                        <div class="w-16 h-16 mx-auto mb-6 p-3 rounded-full bg-accent/20 flex items-center justify-center">
                            <!-- SVG for Visual Design -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--accent-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 22h14"/><path d="M5 2h14v16H5z"/></svg>
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold mb-4 text-center" data-key="skill1Title">Visual Design & Concepting</h3>
                        <p class="text-base md:text-lg opacity-80 text-center" data-key="skill1Text">Crafting compelling visual narratives and user experiences through creative design and thoughtful concept development.</p>
                    </div>

                    <!-- Motion Graphics & 2D/3D Animation -->
                    <div class="card p-8 rounded-3xl animate-on-scroll">
                        <div class="w-16 h-16 mx-auto mb-6 p-3 rounded-full bg-accent/20 flex items-center justify-center">
                            <!-- SVG for Motion Graphics -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--accent-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"/><path d="M10 12h4"/><path d="M12 7v5"/></svg>
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold mb-4 text-center" data-key="skill2Title">Motion Graphics & 2D/3D Animation</h3>
                        <p class="text-base md:text-lg opacity-80 text-center" data-key="skill2Text">Bringing static visuals to life with dynamic motion graphics and seamless animations for engaging digital content.</p>
                    </div>
                    
                    <!-- Video Production & Editing -->
                    <div class="card p-8 rounded-3xl animate-on-scroll">
                        <div class="w-16 h-16 mx-auto mb-6 p-3 rounded-full bg-accent/20 flex items-center justify-center">
                            <!-- SVG for Video Production -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--accent-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 22h2a2 2 0 002-2V4a2 2 0 00-2-2H6a2 2 0 00-2 2v16a2 2 0 002 2h2"/><path d="M10 22L4 16l6-6L4 4h16"/></svg>
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold mb-4 text-center" data-key="skill3Title">Video Production & Editing</h3>
                        <p class="text-base md:text-lg opacity-80 text-center" data-key="skill3Text">Full-cycle video production, from shooting and lighting to post-production editing, color grading, and sound design.</p>
                    </div>

                    <!-- Sound Design & Music Composition -->
                    <div class="card p-8 rounded-3xl animate-on-scroll">
                        <div class="w-16 h-16 mx-auto mb-6 p-3 rounded-full bg-accent/20 flex items-center justify-center">
                            <!-- SVG for Sound Design -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--accent-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 100 20 10 10 0 000-20z"/><path d="M12 21a9 9 0 100-18 9 9 0 000 18z"/><circle cx="12" cy="12" r="6"/><path d="M12 6a6 6 0 100 12 6 6 0 000-12z"/></svg>
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold mb-4 text-center" data-key="skill4Title">Sound Design & Music Composition</h3>
                        <p class="text-base md:text-lg opacity-80 text-center" data-key="skill4Text">Creating rich, immersive audio experiences and original musical scores to enhance the emotional impact of a project.</p>
                    </div>

                    <!-- Graphic Design & Illustration -->
                    <div class="card p-8 rounded-3xl animate-on-scroll">
                        <div class="w-16 h-16 mx-auto mb-6 p-3 rounded-full bg-accent/20 flex items-center justify-center">
                            <!-- SVG for Graphic Design -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--accent-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3H7a4 4 0 00-4 4v10a4 4 0 004 4h10a4 4 0 004-4V7a4 4 0 00-4-4z"/><circle cx="12" cy="12" r="3"/><path d="M17 7h.01"/></svg>
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold mb-4 text-center" data-key="skill5Title">Graphic Design & Illustration</h3>
                        <p class="text-base md:text-lg opacity-80 text-center" data-key="skill5Text">Developing custom illustrations, logos, and print materials that communicate brand identity and vision effectively.</p>
                    </div>

                    <!-- Strategic Communications -->
                    <div class="card p-8 rounded-3xl animate-on-scroll">
                        <div class="w-16 h-16 mx-auto mb-6 p-3 rounded-full bg-accent/20 flex items-center justify-center">
                            <!-- SVG for Strategic Communications -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--accent-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 10h-4a2 2 0 01-2-2V4a2 2 0 012-2h4a2 2 0 012 2v4a2 2 0 01-2 2z"/><path d="M12 22h-4a2 2 0 01-2-2v-4a2 2 0 012-2h4a2 2 0 012 2v4a2 2 0 01-2 2z"/><path d="M22 16h-4a2 2 0 01-2-2v-4a2 2 0 012-2h4a2 2 0 012 2v4a2 2 0 01-2 2z"/><path d="M12 2h-4a2 2 0 01-2-2v-4a2 2 0 012-2h4a2 2 0 012 2v4a2 2 0 01-2 2z"/></svg>
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold mb-4 text-center" data-key="skill6Title">Strategic Communications</h3>
                        <p class="text-base md:text-lg opacity-80 text-center" data-key="skill6Text">Crafting compelling narratives and messaging that resonate with target audiences to achieve brand and business goals.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Expertise Section: New section for specific areas of expertise -->
        <section id="expertise" class="min-h-screen flex items-center justify-center py-16 md:py-24 snap-start">
            <div class="container mx-auto px-4 md:px-6">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-12" data-key="expertiseTitle">My Expertise</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12" id="expertise-container">
                    <!-- Expertise cards will be dynamically added here -->
                </div>
            </div>
        </section>

        <!-- Projects Section: Portfolio grid with clickable cards -->
        <section id="projects" class="min-h-screen flex items-center justify-center py-16 md:py-24 snap-start">
            <div class="container mx-auto px-4 md:px-6">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-12" data-key="projectsTitle">Projects</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12" id="projects-container">
                    <!-- Project cards will be dynamically added here -->
                </div>
                <!-- Show More/Less buttons -->
                <div class="mt-12 text-center">
                    <button id="show-more-btn" class="bg-accent px-8 py-3 rounded-full font-semibold transition-all duration-300 transform hover:scale-105 hidden" style="color: var(--button-text)" data-key="showMoreBtn">Show More</button>
                    <button id="show-less-btn" class="bg-accent px-8 py-3 rounded-full font-semibold transition-all duration-300 transform hover:scale-105 hidden" style="color: var(--button-text); margin-left: 1rem;" data-key="showLessBtn">Show Less</button>
                </div>
            </div>
        </section>

        <!-- Contact Section: Contact form and social links -->
        <section id="contact" class="min-h-screen flex items-center justify-center py-16 md:py-24 snap-start">
            <div class="container mx-auto px-4 md:px-6">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-12" data-key="contactTitle">Contact</h2>
                <div class="max-w-2xl mx-auto text-center">
                    <p class="text-lg md:text-xl leading-relaxed opacity-80" data-key="contactText">Let's create something great together. Feel free to reach out for collaborations or inquiries.</p>
                    <div class="mt-8 flex justify-center space-x-6">
                        <a href="mailto:s.fotouhian@gmail.com" class="text-lg md:text-xl font-semibold hover:text-accent transition-colors duration-300" data-key="emailLink">Email</a>
                        <a href="#" class="text-lg md:text-xl font-semibold hover:text-accent transition-colors duration-300" data-key="linkedInLink">LinkedIn</a>
                        <a href="#" class="text-lg md:text-xl font-semibold hover:text-accent transition-colors duration-300" data-key="behanceLink">Behance</a>
                        <a href="#" class="text-lg md:text-xl font-semibold hover:text-accent transition-colors duration-300" data-key="instagramLink">Instagram</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="text-center text-sm md:text-base py-6 opacity-75 flex flex-col items-center">
        <div class="flex space-x-4 mb-2">
            <button id="legal-notice-btn" class="text-sm font-light hover:underline" data-key="legalNoticeLink"></button>
            <button id="privacy-policy-btn" class="text-sm font-light hover:underline" data-key="privacyPolicyLink"></button>
        </div>
        <p data-key="footerText"></p>
    </footer>

    <!-- JavaScript for dynamic content, theming, and interactions -->
    <script>
        // Data for projects and expertise cards
        const projectData = [
            {
                title: "Premium showreel",
                description: "",
                videoUrl: "https://www.youtube.com/embed/O8RsvUra8JE?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/O8RsvUra8JE/hqdefault.jpg"
            },
            {
                title: "Business cartoon showreel",
                description: "",
                videoUrl: "https://www.youtube.com/embed/AAKkb9oXCss?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/AAKkb9oXCss/hqdefault.jpg"
            },
            {
                title: "B&W showreel",
                description: "",
                videoUrl: "https://www.youtube.com/embed/y4LTPeOgeS0?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/y4LTPeOgeS0/hqdefault.jpg"
            },
            {
                title: "Catification",
                description: "",
                videoUrl: "https://www.youtube.com/embed/wI8QYzj-phk?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/wI8QYzj-phk/hqdefault.jpg"
            },
            {
                title: "Cyberpunk glimpse",
                description: "",
                videoUrl: "https://www.youtube.com/embed/lOnX6pUKkbA?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/lOnX6pUKkbA/hqdefault.jpg"
            },
            {
                title: "Finally free",
                description: "",
                videoUrl: "https://www.youtube.com/embed/wJIEdg1CGns?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/wJIEdg1CGns/hqdefault.jpg"
            },
            {
                title: "Stadt Bochum",
                description: "",
                videoUrl: "https://www.youtube.com/embed/nq-nnNSeQbo?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/nq-nnNSeQbo/hqdefault.jpg"
            },
            {
                title: "Stadtbauprojekt",
                description: "",
                videoUrl: "https://www.youtube.com/embed/rrMwJjRxb9E?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/rrMwJjRxb9E/hqdefault.jpg"
            },
            {
                title: "Explainer video",
                description: "",
                videoUrl: "https://www.youtube.com/embed/j-AUGz2xvLU?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/j-AUGz2xvLU/hqdefault.jpg"
            },
            {
                title: "Covivio",
                description: "",
                videoUrl: "https://www.youtube.com/embed/3K6otI9MAko?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/3K6otI9MAko/hqdefault.jpg"
            },
            {
                title: "Organeers",
                description: "",
                videoUrl: "https://www.youtube.com/embed/xWCdD5Cz3Q8?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/xWCdD5Cz3Q8/hqdefault.jpg"
            },
            {
                title: "Ärzte zum Migränetagebuch",
                description: "",
                videoUrl: "https://www.youtube.com/embed/dmPcSstXA4I?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/dmPcSstXA4I/hqdefault.jpg"
            },
            {
                title: "Patienten zum Migränetagebuch",
                description: "",
                videoUrl: "https://www.youtube.com/embed/3HvT7U71cpA?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/3HvT7U71cpA/hqdefault.jpg"
            },
            {
                title: "Meditation",
                description: "",
                videoUrl: "https://www.youtube.com/embed/brM7I-4KY0g?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/brM7I-4KY0g/hqdefault.jpg"
            },
            {
                title: "ADAC",
                description: "",
                videoUrl: "https://www.youtube.com/embed/UPBK_LGcslQ?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/UPBK_LGcslQ/hqdefault.jpg"
            },
            {
                title: "WOBCOM",
                description: "",
                videoUrl: "https://www.youtube.com/embed/7o9G9ZfWRw4?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/7o9G9ZfWRw4/hqdefault.jpg"
            },
            {
                title: "Bierentdecker",
                description: "",
                videoUrl: "https://www.youtube.com/embed/Kzz9EvZynwc?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/Kzz9EvZynwc/hqdefault.jpg"
            },
            {
                title: "Tag der Meditation",
                description: "",
                videoUrl: "https://www.youtube.com/embed/7aokYsmPVkg?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/7aokYsmPVkg/hqdefault.jpg"
            },
            {
                title: "Die drückende Hitze",
                description: "",
                videoUrl: "https://www.youtube.com/embed/pCm0wXebzMk?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/pCm0wXebzMk/hqdefault.jpg"
            },
            {
                title: "DEU-PA",
                description: "",
                videoUrl: "https://www.youtube.com/embed/yn_64XKkw6c?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/yn_64XKkw6c/hqdefault.jpg"
            },
            {
                title: "Der Camping Butler",
                description: "",
                videoUrl: "https://www.youtube.com/embed/gddztaVql3Q?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/gddztaVql3Q/hqdefault.jpg"
            },
            {
                title: "Sleeperoo",
                description: "",
                videoUrl: "https://www.youtube.com/embed/a0xRb27LRKs?autoplay=1&rel=0&showinfo=0&vq=hd1080",
                thumbnail: "https://img.youtube.com/vi/a0xRb27LRKs/hqdefault.jpg"
            }
        ];
        
        // Data for translations
        const translations = {
            en: {
                navHome: "Home",
                navAbout: "About",
                navSkills: "Skills",
                navExpertise: "Expertise",
                navProjects: "Projects",
                navContact: "Contact",
                homeTitle: "Hello, I'm Shahab.",
                homeSubtitle: "A Motion Graphics Designer & Digital Video Producer based in Berlin.",
                getInTouch: "Get in Touch",
                scrollHint: "Scroll down for more",
                aboutTitle: "About Me",
                aboutText: "I specialize in creating compelling visual stories through animation and video. With extensive experience in motion graphics and a strong foundation in video production, I bring concepts to life with creativity and technical precision.",
                skillsTitle: "Skills",
                skill1Title: "Visual Design & Concepting",
                skill1Text: "Crafting compelling visual narratives and user experiences through creative design and thoughtful concept development.",
                skill2Title: "Motion Graphics & 2D/3D Animation",
                skill2Text: "Bringing static visuals to life with dynamic motion graphics and seamless animations for engaging digital content.",
                skill3Title: "Video Production & Editing",
                skill3Text: "Full-cycle video production, from shooting and lighting to post-production editing, color grading, and sound design.",
                skill4Title: "Sound Design & Music Composition",
                skill4Text: "Creating rich, immersive audio experiences and original musical scores to enhance the emotional impact of a project.",
                skill5Title: "Graphic Design & Illustration",
                skill5Text: "Developing custom illustrations, logos, and print materials that communicate brand identity and vision effectively.",
                skill6Title: "Strategic Communications",
                skill6Text: "Crafting compelling narratives and messaging that resonate with target audiences to achieve brand and business goals.",
                expertiseTitle: "My Expertise",
                projectsTitle: "Projects",
                showMoreBtn: "Show More",
                showLessBtn: "Show Less",
                contactTitle: "Contact",
                contactText: "Let's create something great together. Feel free to reach out for collaborations or inquiries.",
                emailLink: "Email",
                linkedInLink: "LinkedIn",
                behanceLink: "Behance",
                instagramLink: "Instagram",
                footerText: "&copy; 2025 Shahab Fotouhian. All rights reserved.",
                legalNoticeLink: "Impressum (Legal Notice)",
                legalTitle: "Impressum",
                legalContent: `
                    <h4 class="font-bold">Angaben gemäß § 5 DDG (ehemals TMG)</h4>
                    <p class="mt-4">Shahab Fotouhian<br>Am Wiesengraben 7A<br>12557 Berlin<br>Deutschland</p>
                    <h4 class="font-bold mt-4">Kontakt:</h4>
                    <p>E-Mail: s.fotouhian@gmail.com</p>
                    <h4 class="font-bold mt-4">Verantwortlich für den Inhalt nach § 18 Abs. 2 MStV:</h4>
                    <p>Shahab Fotouhian<br>Am Wiesengraben 7A<br>12557 Berlin</p>
                `,
                privacyPolicyLink: "Privacy Policy",
                privacyTitle: "Datenschutzerklärung",
                privacyContent: `
                    <h4 class="font-bold">1. Verantwortliche Stelle</h4>
                    <p class="mt-2">Verantwortlich für die Datenverarbeitung auf dieser Website ist:<br>Shahab Fotouhian<br>Am Wiesengraben 7A<br>12557 Berlin<br>E-Mail: s.fotouhian@gmail.com</p>

                    <h4 class="font-bold mt-4">2. Datenerfassung auf dieser Website</h4>
                    <h5 class="font-semibold mt-2">Server-Logfiles</h5>
                    <p class="mt-2">Der Provider der Seiten erhebt und speichert automatisch Informationen in sogenannten Server-Logfiles, die Ihr Browser automatisch an uns übermittelt. Dies sind:<br>- Browsertyp und Browserversion<br>- Verwendetes Betriebssystem<br>- Referrer URL<br>- Hostname des zugreifenden Rechners<br>- Uhrzeit der Serveranfrage<br>- IP-Adresse</p>
                    <p class="mt-2">Eine Zusammenführung dieser Daten mit anderen Datenquellen wird nicht vorgenommen. Die Verarbeitung erfolgt auf Grundlage von Art. 6 Abs. 1 lit. f DSGVO, die die Verarbeitung zur Wahrung eines berechtigten Interesses erlaubt. Das berechtigte Interesse ist die Sicherstellung der technischen Funktionalität und die Optimierung der Website.</p>
                    <h5 class="font-semibold mt-4">Kontaktformular</h5>
                    <p class="mt-2">Wenn Sie mir per E-Mail oder Kontaktformular eine Anfrage zukommen lassen, werden Ihre Angaben (Name, E-Mail-Adresse und die Inhalte Ihrer Nachricht) zwecks Bearbeitung der Anfrage und für den Fall von Anschlussfragen bei mir gespeichert. Diese Daten gebe ich nicht ohne Ihre Einwilligung weiter. Die Verarbeitung dieser Daten erfolgt auf Grundlage von Art. 6 Abs. 1 lit. b DSGVO, sofern Ihre Anfrage mit einem Vertrag in Verbindung steht oder zur Durchführung vorvertraglicher Maßnahmen erforderlich ist.</p>

                    <h4 class="font-bold mt-4">3. Cookies und Dienste von Drittanbietern</h4>
                    <h5 class="font-semibold mt-2">Cookies</h5>
                    <p class="mt-2">Diese Website verwendet möglicherweise Cookies. Cookies sind kleine Textdateien, die auf Ihrem Endgerät gespeichert werden. Wir verwenden Cookies, um die Funktionalität unserer Website zu gewährleisten.</p>
                    <h5 class="font-semibold mt-4">YouTube</h5>
                    <p class="mt-2">Wir binden Videos der Plattform YouTube des Anbieters Google Ireland Limited, Gordon House, Barrow Street, Dublin 4, Irland, in unsere Website ein. Dies geschieht in der Regel im erweiterten Datenschutzmodus. Sobald Sie eine Seite mit einem eingebundenen YouTube-Video besuchen, wird eine Verbindung zu den Servern von YouTube hergestellt. Dabei wird YouTube mitgeteilt, welche Seiten Sie besuchen. Wenn Sie in Ihrem YouTube-Konto eingeloggt sind, kann YouTube Ihr Surfverhalten direkt Ihrem persönlichen Profil zuordnen. Sie können dies verhindern, indem Sie sich vor dem Besuch unserer Website aus Ihrem YouTube-Konto ausloggen. Die Einbindung erfolgt im Interesse einer ansprechenden Darstellung unserer Online-Angebote. Dies stellt ein berechtigtes Interesse im Sinne von Art. 6 Abs. 1 lit. f DSGVO dar.</p>
                    <p class="mt-2">Weitere Informationen zum Umgang mit Nutzerdaten finden Sie in der Datenschutzerklärung von YouTube unter: <a href="https://www.google.de/intl/de/policies/privacy" target="_blank" class="underline">https://www.google.de/intl/de/policies/privacy</a>.</p>

                    <h4 class="font-bold mt-4">4. Ihre Rechte als betroffene Person</h4>
                    <p class="mt-2">Sie haben jederzeit das Recht, unentgeltlich Auskunft über Ihre gespeicherten personenbezogenen Daten, deren Herkunft und Empfänger und den Zweck der Datenverarbeitung zu erhalten. Sie haben außerdem das Recht, die Berichtigung, Sperrung oder Löschung dieser Daten zu verlangen. Hierzu sowie zu weiteren Fragen zum Thema Datenschutz können Sie sich jederzeit unter der im Impressum angegebenen Adresse an mich wenden.</p>
                    <p class="mt-2">Sie haben das Recht, eine Beschwerde bei der zuständigen Aufsichtsbehörde einzureichen. Die zuständige Aufsichtsbehörde für den Datenschutz in Berlin ist:<br>Berliner Beauftragte für Datenschutz und Informationsfreiheit<br>Alt-Moabit 15<br>10559 Berlin<br>E-Mail: mailbox@datenschutz-berlin.de</p>
                `
            }
        };

        const expertiseData = [
            {
                title: { en: "After Effects", de: "After Effects" },
                description: { en: "After Effects is my go-to tool for crafting dynamic animations, compositing intricate scenes, and conjuring up visually stunning effects. I leverage its robust keyframing, expression engine, and 3D tracking capabilities to bring my creative visions to life.", de: "After Effects ist mein bevorzugtes Werkzeug, um dynamische Animationen zu erstellen, komplizierte Szenen zusammenzusetzen und visuell beeindruckende Effekte zu zaubern. Ich nutze seine robusten Keyframing-, Expressions-Engine- und 3D-Tracking-Fähigkeiten, um meine kreativen Visionen zum Leben zu erwecken." },
            },
            {
                title: { en: "Premiere Pro", de: "Premiere Pro" },
                description: { en: "Premiere Pro is my trusted companion for editing and assembling video sequences, applying transitions, and fine-tuning color correction. I rely on its intuitive timeline, extensive format support, and efficient workflow to deliver polished and professional video content.", de: "Premiere Pro ist mein treuer Begleiter, um Videosequenzen zu bearbeiten und zusammenzustellen, Übergänge anzuwenden und die Farbkorrektur zu verfeinern. Ich verlasse mich auf seine intuitive Zeitleiste, umfassende Formatunterstützung und effizienten Workflow, um professionelle Videoinhalte zu liefern." },
            },
            {
                title: { en: "Photoshop", de: "Photoshop" },
                description: { en: "Photoshop is my digital canvas for manipulating images, creating graphics, and designing assets. I skillfully utilize its layers, masks, filters, and painting tools to achieve the desired visual impact and enhance the overall aesthetic of my motion design projects.", de: "Photoshop ist meine digitale Leinwand zum Bearbeiten von Bildern, Erstellen von Grafiken und Gestalten von Assets. Ich nutze geschickt seine Ebenen, Masken, Filter und Malwerkzeuge, um die gewünschte visuelle Wirkung zu erzielen und die Ästhetik meiner Motion-Design-Projekte zu verbessern." },
            },
            {
                title: { en: "Illustration", de: "Illustration" },
                description: { en: "Illustrator is my vector graphics powerhouse, allowing me to create clean, scalable logos, icons, and other design elements. I harness its precision tools, shape manipulation, and typography capabilities to craft visually striking and versatile assets.", de: "Illustrator ist mein Vektorgrafik-Kraftpaket, mit dem ich saubere, skalierbare Logos, Icons und andere Designelemente erstellen kann. Ich nutze seine Präzisionswerkzeuge, die Formenbearbeitung und die Typografie-Fähigkeiten, um visuell ansprechende und vielseitige Assets zu entwerfen." },
            },
            {
                title: { en: "Media Encoder", de: "Media Encoder" },
                description: { en: "Media Encoder is my reliable batch processing tool for efficiently exporting video and audio files in various formats and resolutions. I optimize my exports to meet specific delivery requirements, ensuring compatibility and quality across different platforms.", de: "Media Encoder ist mein zuverlässiges Stapelverarbeitungswerkzeug, um Video- und Audiodateien effizient in verschiedenen Formaten und Auflösungen zu exportieren. Ich optimiere meine Exporte, um spezifische Lieferanforderungen zu erfüllen und Kompatibilität und Qualität auf verschiedenen Plattformen zu gewährleisten." },
            },
            {
                title: { en: "Audition", de: "Audition" },
                description: { en: "Audition is my audio editing and mixing studio, where I refine and enhance the soundtracks of my motion design projects. I employ its noise reduction, equalization, compression, and other audio processing techniques to create immersive and impactful audio experiences.", de: "Audition ist mein Audio-Bearbeitungs- und Mischstudio, in dem ich die Soundtracks meiner Motion-Design-Projekte verfeinere und verbessere. Ich nutze seine Rauschunterdrückung, Entzerrung, Komprimierung und andere Audio-Verarbeitungstechniken, um immersive und wirkungsvolle Audioerlebnisse zu schaffen." },
            },
            {
                title: { en: "Office 365", de: "Office 365" },
                description: { en: "Office 365 is my productivity suite for managing documents, spreadsheets, presentations, and emails. I rely on its cloud-based features, online collaboration tools, and integration with other Microsoft services to streamline my workflow and enhance productivity.", de: "Office 365 ist meine Produktivitätssuite zur Verwaltung von Dokumenten, Tabellen, Präsentationen und E-Mails. Ich verlasse mich auf seine cloud-basierten Funktionen, Online-Kollaborationstools und die Integration mit anderen Microsoft-Diensten, um meinen Workflow zu optimieren und die Produktivität zu steigern." },
            },
            {
                title: { en: "Slack", de: "Slack" },
                description: { en: "Slack is my go-to communication platform for collaborating with team members, sharing updates, and staying organized. I utilize its channels, direct messaging, and file sharing capabilities to foster efficient and effective teamwork.", de: "Slack ist meine bevorzugte Kommunikationsplattform für die Zusammenarbeit mit Teammitgliedern, das Teilen von Updates und die Organisation. Ich nutze seine Kanäle, Direktnachrichten und Dateifreigabefunktionen, um eine effiziente und effektive Teamarbeit zu fördern." },
            },
            {
                title: { en: "Creative Cloud", de: "Creative Cloud" },
                description: { en: "Creative Cloud is my comprehensive toolkit for unleashing creative potential. I benefit from its seamless integration between various Adobe applications, cloud-based features, and access to the latest tools and updates, empowering me to explore and experiment with different creative avenues.", de: "Creative Cloud ist mein umfassender Werkzeugkasten, um kreatives Potenzial zu entfesseln. Ich profitiere von der nahtlosen Integration zwischen den verschiedenen Adobe-Anwendungen, cloud-basierten Funktionen und dem Zugang zu den neuesten Tools und Updates, die mich ermutigen, verschiedene kreative Wege zu erkunden und zu experimentieren." },
            },
            {
                title: { en: "Acrobat Pro", de: "Acrobat Pro" },
                description: { en: "Acrobat Pro is my essential PDF management tool, enabling me to create, edit, and annotate documents with ease. I leverage its features for adding digital signatures, redacting sensitive information, and converting files to PDF format for efficient sharing and distribution.", de: "Acrobat Pro ist mein unverzichtbares PDF-Verwaltungswerkzeug, mit dem ich Dokumente einfach erstellen, bearbeiten und mit Anmerkungen versehen kann. Ich nutze seine Funktionen zum Hinzufügen digitaler Signaturen, zum Schwärzen sensibler Informationen und zum Konvertieren von Dateien in das PDF-Format für eine effiziente Weitergabe." },
            },
            {
                title: { en: "Camtasia", de: "Camtasia" },
                description: { en: "Camtasia is my streamlined tool for creating screencasts and video tutorials. I appreciate its user-friendly interface and intuitive features, making it a suitable choice for projects that require quick and efficient video production without the complexities of After Effects. I effectively capture screen activity, add annotations, edit audio, and export videos in various formats.", de: "Camtasia ist mein optimiertes Werkzeug zum Erstellen von Screencasts und Video-Tutorials. Ich schätze seine benutzerfreundliche Oberfläche und intuitiven Funktionen, die es zu einer geeigneten Wahl für Projekte machen, die eine schnelle und effiziente Videoproduktion ohne die Komplexität von After Effects erfordern. Ich erfasse effektiv Bildschirmaktivitäten, füge Anmerkungen hinzu, bearbeite Audio und exportiere Videos in verschiedenen Formaten." },
            },
            {
                title: { en: "Asana", de: "Asana" },
                description: { en: "Asana is my project management tool for organizing tasks, setting deadlines, and tracking progress. I utilize its boards, lists, timelines, and custom fields to effectively plan and execute my projects, ensuring efficient collaboration and timely delivery.", de: "Asana ist mein Projektmanagement-Tool zur Organisation von Aufgaben, Festlegung von Fristen und Verfolgung des Fortschritts. Ich nutze seine Boards, Listen, Zeitleisten und benutzerdefinierte Felder, um meine Projekte effektiv zu planen und auszuführen und so eine effiziente Zusammenarbeit und termingerechte Lieferung zu gewährleisten." },
            },
            {
                title: { en: "Blender", de: "Blender" },
                description: { en: "Blender is my powerful 3D creation suite for modeling, sculpting, and rendering stunning three-dimensional graphics and animations. I harness its comprehensive toolset to build realistic environments, create dynamic simulations, and produce high-quality cinematic visuals for my projects.", de: "Blender ist mein leistungsstarkes 3D-Erstellungspaket für die Modellierung, das Sculpting und das Rendering von atemberaubenden dreidimensionalen Grafiken und Animationen. Ich nutze sein umfassendes Werkzeugset, um realistische Umgebungen zu erstellen, dynamische Simulationen zu gestalten und hochwertige filmische Visuals für meine Projekte zu produzieren." },
            }
        ];

        // DOM elements
        const body = document.body;
        const themeToggle = document.getElementById('theme-toggle');
        const langToggle = document.getElementById('lang-toggle');
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('main section');
        const projectsContainer = document.getElementById('projects-container');
        const expertiseContainer = document.getElementById('expertise-container');
        const showMoreBtn = document.getElementById('show-more-btn');
        const showLessBtn = document.getElementById('show-less-btn');
        const videoModal = document.getElementById('video-modal');
        const youtubePlayer = document.getElementById('youtube-player');
        const infoModal = document.getElementById('info-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalDescription = document.getElementById('modal-description');
        const legalNoticeBtn = document.getElementById('legal-notice-btn');
        const legalModal = document.getElementById('legal-modal');
        const legalTitle = document.getElementById('legal-title');
        const legalContent = document.getElementById('legal-content');
        const privacyPolicyBtn = document.getElementById('privacy-policy-btn');
        const privacyModal = document.getElementById('privacy-modal');
        const privacyTitle = document.getElementById('privacy-title');
        const privacyContent = document.getElementById('privacy-content');

        // State variables
        let currentLang = 'en';
        let visibleProjects = 3;

        // Function to open the video modal
        function openModal(videoUrl) {
            youtubePlayer.src = videoUrl;
            videoModal.classList.remove('hidden');
            setTimeout(() => {
                videoModal.querySelector('div:last-child').classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        // Function to close the video modal
        function closeModal() {
            videoModal.querySelector('div:last-child').classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                videoModal.classList.add('hidden');
                youtubePlayer.src = ''; // Stop the video
            }, 300);
        }

        // Function to open the info modal
        function openInfoModal(title, description) {
            modalTitle.textContent = title;
            modalDescription.textContent = description;
            infoModal.classList.remove('hidden');
            setTimeout(() => {
                infoModal.querySelector('div:last-child').classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        // Function to close the info modal
        function closeInfoModal() {
            infoModal.querySelector('div:last-child').classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                infoModal.classList.add('hidden');
            }, 300);
        }
        
        // Function to open the legal notice modal
        function openLegalModal() {
            legalTitle.textContent = translations[currentLang].legalTitle;
            legalContent.innerHTML = translations[currentLang].legalContent;
            legalModal.classList.remove('hidden');
            setTimeout(() => {
                legalModal.querySelector('div:last-child').classList.remove('scale-95', 'opacity-0');
            }, 10);
        }
        
        // Function to close the legal notice modal
        function closeLegalModal() {
            legalModal.querySelector('div:last-child').classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                legalModal.classList.add('hidden');
            }, 300);
        }

        // Function to open the privacy policy modal
        function openPrivacyModal() {
            privacyTitle.textContent = translations[currentLang].privacyTitle;
            privacyContent.innerHTML = translations[currentLang].privacyContent;
            privacyModal.classList.remove('hidden');
            setTimeout(() => {
                privacyModal.querySelector('div:last-child').classList.remove('scale-95', 'opacity-0');
            }, 10);
        }
        
        // Function to close the privacy policy modal
        function closePrivacyModal() {
            privacyModal.querySelector('div:last-child').classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                privacyModal.classList.add('hidden');
            }, 300);
        }

        // Render projects with animation classes
        function renderProjects() {
            projectsContainer.innerHTML = '';
            const projectsToShow = projectData.slice(0, visibleProjects);
            projectsToShow.forEach(project => {
                const projectCard = document.createElement('div');
                // Add the animate-on-scroll class to each card for the animation effect
                projectCard.className = 'card rounded-3xl overflow-hidden shadow-lg cursor-pointer transition-transform duration-300 transform hover:scale-105 group animate-on-scroll';
                projectCard.setAttribute('onclick', `openModal('${project.videoUrl}')`);
                projectCard.innerHTML = `
                    <div class="relative w-full h-auto pb-[56.25%] overflow-hidden">
                        <img src="${project.thumbnail}" alt="${project.title} Thumbnail" class="absolute inset-0 w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/40 group-hover:bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl md:text-2xl font-bold mb-2">${project.title}</h3>
                    </div>
                `;
                projectsContainer.appendChild(projectCard);
            });

            // Toggle "Show More/Less" buttons
            if (projectData.length > visibleProjects) {
                showMoreBtn.classList.remove('hidden');
            } else {
                showMoreBtn.classList.add('hidden');
            }

            if (visibleProjects > 3) {
                showLessBtn.classList.remove('hidden');
            } else {
                showLessBtn.classList.add('hidden');
            }
            
            // Re-run the observer after rendering new cards
            setupAnimations();
        }

        // Render expertise cards with animation classes
        function renderExpertise() {
            expertiseContainer.innerHTML = '';
            expertiseData.forEach(expertise => {
                const expertiseCard = document.createElement('div');
                // Add the animate-on-scroll class to each card for the animation effect
                expertiseCard.className = 'card p-8 rounded-3xl cursor-pointer transition-transform duration-300 transform hover:scale-105 animate-on-scroll';
                // Attach click event to open the modal with the expertise title and description
                expertiseCard.setAttribute('onclick', `openInfoModal('${expertise.title[currentLang]}', '${expertise.description[currentLang]}')`);
                expertiseCard.innerHTML = `
                    <h3 class="text-xl md:text-2xl font-bold mb-4 text-center">${expertise.title[currentLang]}</h3>
                `;
                expertiseContainer.appendChild(expertiseCard);
            });
            // Re-run the observer after rendering new cards
            setupAnimations();
        }
        
        // Function to update content based on current language
        function updateContent() {
            // Update the language toggle button text
            langToggle.textContent = currentLang.toUpperCase();
            
            // Update all elements with a data-key attribute
            const elementsToTranslate = document.querySelectorAll('[data-key]');
            elementsToTranslate.forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[currentLang] && translations[currentLang][key]) {
                    // Fix for HTML entities not rendering in the footer
                    // We use innerHTML for this specific case to correctly parse the '&copy;' entity.
                    // For all other cases, textContent is safer.
                    if(key === 'footerText' || key === 'legalContent' || key === 'privacyContent') {
                         element.innerHTML = translations[currentLang][key];
                    } else {
                        element.textContent = translations[currentLang][key];
                    }
                }
            });
            
            // Re-render the expertise cards with the new language
            renderExpertise();
        }

        // --- Refactored Navigation Code ---
        
        // Function to set the active navigation link based on the section ID
        const setActiveSection = (sectionId) => {
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${sectionId}`) {
                    link.classList.add('active');
                }
            });
        };

        // IntersectionObserver to handle active nav links on scroll
        const navObserver = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const sectionId = entry.target.id;
                    setActiveSection(sectionId);
                }
            });
        }, {
            // Options for the observer: trigger when the top of the section enters/leaves the viewport
            rootMargin: '-50% 0px -50% 0px'
        });

        // Add click event listeners for smooth scrolling and immediate feedback
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                // Prevent the default anchor link jump
                e.preventDefault();
                
                // Get the target section ID from the href
                const sectionId = link.getAttribute('href').substring(1);
                
                // Scroll smoothly to the target section
                document.getElementById(sectionId).scrollIntoView({
                    behavior: 'smooth'
                });
                
                // Immediately set the active class for a responsive feel
                setActiveSection(sectionId);
            });
        });

        // Start observing each section
        sections.forEach(section => {
            navObserver.observe(section);
        });

        // --- End of Refactored Navigation Code ---

        // Language toggle
        langToggle.addEventListener('click', () => {
            currentLang = currentLang === 'en' ? 'de' : 'en';
            document.querySelector('body').setAttribute('lang', currentLang);
            updateContent();
        });

        // Theme toggle
        themeToggle.addEventListener('click', () => {
            if (body.classList.contains('dark')) {
                body.classList.remove('dark');
                body.classList.add('light');
                heroBg.style.backgroundImage = 'url(https://placehold.co/1920x1080/f7f7f7/00a896?text=Hero+Video+Placeholder)';
                themeToggle.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>`;
            } else {
                body.classList.remove('light');
                body.classList.add('dark');
                heroBg.style.backgroundImage = 'url(https://placehold.co/1920x1080/1a1a1a/00a896?text=Hero+Video+Placeholder)';
                themeToggle.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>`;
            }
        });

        // Show More/Less buttons
        showMoreBtn.addEventListener('click', () => {
            visibleProjects = projectData.length;
            renderProjects();
        });

        showLessBtn.addEventListener('click', () => {
            visibleProjects = 3;
            renderProjects();
        });
        
        // Legal notice button listener
        legalNoticeBtn.addEventListener('click', openLegalModal);

        // Privacy policy button listener
        privacyPolicyBtn.addEventListener('click', openPrivacyModal);

        // Animation logic using IntersectionObserver
        const animationObserver = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                // Check if the element is intersecting the viewport
                if (entry.isIntersecting) {
                    // Add the 'in-view' class to trigger the animation
                    entry.target.classList.add('in-view');
                    // Stop observing once the animation has been triggered
                    animationObserver.unobserve(entry.target);
                }
            });
        }, {
            // Options for the observer
            threshold: 0.2 // Trigger when 20% of the element is visible
        });

        // Function to set up the observers for all animatable elements
        const setupAnimations = () => {
            // Get all elements with the 'animate-on-scroll' class
            const elements = document.querySelectorAll('.animate-on-scroll');
            elements.forEach(el => animationObserver.observe(el));
        }

        // Initial setup on page load
        window.onload = () => {
            updateContent();
            renderProjects();
            // Start observing elements for animation
            setupAnimations();
        };
    </script>
</body>
</html>
